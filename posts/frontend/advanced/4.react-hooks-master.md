# 4ê°•: React Hooks ì™„ì „ ë§ˆìŠ¤í„°

## ğŸ¯ í•™ìŠµ ëª©í‘œ
- React Hooksê°€ ì™œ í˜ì‹ ì ì¸ì§€ ì´í•´í•˜ê³  Class Componentì™€ ë¹„êµí•  ìˆ˜ ìˆë‹¤
- useState, useEffectë¥¼ ì™„ë²½í•˜ê²Œ í™œìš©í•  ìˆ˜ ìˆë‹¤
- useContextë¡œ prop drilling ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆë‹¤
- useMemo, useCallbackìœ¼ë¡œ ì„±ëŠ¥ ìµœì í™”ë¥¼ í•  ìˆ˜ ìˆë‹¤
- Custom Hooksë¥¼ ë§Œë“¤ì–´ì„œ ë¡œì§ì„ ì¬ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤

---

## ğŸ¤” Class Componentì˜ í•œê³„ì™€ Hooksì˜ í˜ì‹ 

### Class Componentì˜ ë¬¸ì œì 

```jsx
// ğŸ˜¢ Class Component - ë³µì¡í•˜ê³  ì´í•´í•˜ê¸° ì–´ë ¤ìš´ ìƒëª…ì£¼ê¸°
class UserProfile extends Component {
  constructor(props) {
    super(props);
    this.state = {
      user: null,
      posts: [],
      loading: true,
      error: null
    };
  }

  async componentDidMount() {
    try {
      // ì‚¬ìš©ì ì •ë³´ ê°€ì ¸ì˜¤ê¸°
      const userResponse = await fetch(`/api/users/${this.props.userId}`);
      const user = await userResponse.json();
      
      // ì‚¬ìš©ì í¬ìŠ¤íŠ¸ ê°€ì ¸ì˜¤ê¸°
      const postsResponse = await fetch(`/api/users/${user.id}/posts`);
      const posts = await postsResponse.json();
      
      this.setState({ user, posts, loading: false });
    } catch (error) {
      this.setState({ error: error.message, loading: false });
    }
  }

  async componentDidUpdate(prevProps) {
    // propsê°€ ë³€ê²½ë˜ë©´ ë‹¤ì‹œ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
    if (prevProps.userId !== this.props.userId) {
      this.setState({ loading: true });
      // ìœ„ì˜ ë¡œì§ì„ ë˜ ì¨ì•¼ í•¨... DRY ìœ„ë°˜!
    }
  }

  componentWillUnmount() {
    // cleanup ë¡œì§
  }

  render() {
    const { user, posts, loading, error } = this.state;
    
    if (loading) return <div>Loading...</div>;
    if (error) return <div>Error: {error}</div>;
    
    return (
      <div>
        <h1>{user.name}</h1>
        <div>Posts: {posts.length}</div>
      </div>
    );
  }
}
```

**Class Componentì˜ ë¬¸ì œ:**
- ğŸ˜µ **ë³µì¡í•œ ìƒëª…ì£¼ê¸°**: componentDidMount, componentDidUpdate ë“±ë“±
- ğŸ”„ **ë¡œì§ ì¤‘ë³µ**: ê°™ì€ ë¡œì§ì„ ì—¬ëŸ¬ ê³³ì— ì¨ì•¼ í•¨
- ğŸ§© **ë¡œì§ ì¬ì‚¬ìš© ì–´ë ¤ì›€**: HOC, Render Props ë“± ë³µì¡í•œ íŒ¨í„´ í•„ìš”
- ğŸ“ **ë” ë§ì€ ì½”ë“œ**: ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸ ì½”ë“œê°€ ë§ìŒ
- ğŸ¤¯ **this ë°”ì¸ë”© ì´ìŠˆ**: ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë§ˆë‹¤ bind ë˜ëŠ” í™”ì‚´í‘œ í•¨ìˆ˜ í•„ìš”

### Hooksì˜ í˜ì‹ 

```tsx
// ğŸ˜ Hooks - ê°„ë‹¨í•˜ê³  ì§ê´€ì 
import { useState, useEffect } from 'react';

interface User {
  id: number;
  name: string;
}

interface Post {
  id: number;
  title: string;
  userId: number;
}

const UserProfile: React.FC<{ userId: number }> = ({ userId }) => {
  const [user, setUser] = useState<User | null>(null);
  const [posts, setPosts] = useState<Post[]>([]);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState<string | null>(null);

  useEffect(() => {
    const fetchUserData = async () => {
      try {
        setLoading(true);
        setError(null);
        
        // ì‚¬ìš©ì ì •ë³´ì™€ í¬ìŠ¤íŠ¸ë¥¼ ë™ì‹œì— ê°€ì ¸ì˜¤ê¸°
        const [userResponse, postsResponse] = await Promise.all([
          fetch(`/api/users/${userId}`),
          fetch(`/api/users/${userId}/posts`)
        ]);
        
        const userData = await userResponse.json();
        const postsData = await postsResponse.json();
        
        setUser(userData);
        setPosts(postsData);
      } catch (err) {
        setError(err instanceof Error ? err.message : 'Unknown error');
      } finally {
        setLoading(false);
      }
    };

    fetchUserData();
  }, [userId]); // userIdê°€ ë³€ê²½ë  ë•Œë§Œ ì‹¤í–‰

  if (loading) return <div>Loading...</div>;
  if (error) return <div>Error: {error}</div>;
  
  return (
    <div>
      <h1>{user?.name}</h1>
      <div>Posts: {posts.length}</div>
    </div>
  );
};
```

**Hooksì˜ ì¥ì :**
- âœ… **ê°„ë‹¨í•œ API**: useState, useEffect ë§Œìœ¼ë¡œ ëª¨ë“  ìƒíƒœì™€ ìƒëª…ì£¼ê¸° ê´€ë¦¬
- ğŸ”„ **ë¡œì§ ì¬ì‚¬ìš© ì‰¬ì›€**: Custom Hooksë¡œ ë¡œì§ ì¶”ì¶œ
- ğŸ“ **ì ì€ ì½”ë“œ**: ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸ ëŒ€í­ ê°ì†Œ
- ğŸ¯ **ê´€ì‹¬ì‚¬ ë¶„ë¦¬**: ê´€ë ¨ ë¡œì§ì„ í•œ ê³³ì— ëª¨ì„ ìˆ˜ ìˆìŒ
- ğŸ’ª **ë” ê°•ë ¥**: í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë° íŒ¨ëŸ¬ë‹¤ì„

---

## ğŸ“Š useState: ìƒíƒœ ê´€ë¦¬ì˜ ê¸°ë³¸

### ê¸°ë³¸ ì‚¬ìš©ë²•

```tsx
import { useState } from 'react';

const Counter: React.FC = () => {
  // ğŸ˜ ê°„ë‹¨í•œ ìƒíƒœ ì„ ì–¸
  const [count, setCount] = useState<number>(0);
  
  // ì—¬ëŸ¬ ìƒíƒœë¥¼ ê°ê° ê´€ë¦¬
  const [name, setName] = useState<string>('');
  const [isVisible, setIsVisible] = useState<boolean>(true);

  return (
    <div>
      <h2>ì¹´ìš´í„°: {count}</h2>
      <button onClick={() => setCount(count + 1)}>
        ì¦ê°€ (+1)
      </button>
      <button onClick={() => setCount(prev => prev - 1)}>
        ê°ì†Œ (-1) {/* í•¨ìˆ˜í˜• ì—…ë°ì´íŠ¸ */}
      </button>
      
      <div>
        <input 
          value={name} 
          onChange={(e) => setName(e.target.value)}
          placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”"
        />
        <p>ì•ˆë…•í•˜ì„¸ìš”, {name || 'ìµëª…'}ë‹˜!</p>
      </div>
      
      <button onClick={() => setIsVisible(!isVisible)}>
        {isVisible ? 'ìˆ¨ê¸°ê¸°' : 'ë³´ì´ê¸°'}
      </button>
      {isVisible && <div>í† ê¸€ë˜ëŠ” ë‚´ìš©ì…ë‹ˆë‹¤!</div>}
    </div>
  );
};
```

### ê°ì²´ì™€ ë°°ì—´ ìƒíƒœ ê´€ë¦¬

```tsx
interface TodoItem {
  id: number;
  text: string;
  completed: boolean;
}

const TodoApp: React.FC = () => {
  const [todos, setTodos] = useState<TodoItem[]>([]);
  const [inputText, setInputText] = useState('');

  const addTodo = () => {
    if (inputText.trim()) {
      const newTodo: TodoItem = {
        id: Date.now(),
        text: inputText.trim(),
        completed: false
      };
      
      // ğŸ˜ ë°°ì—´ ìƒíƒœ ì—…ë°ì´íŠ¸ - spread operator ì‚¬ìš©
      setTodos(prevTodos => [...prevTodos, newTodo]);
      setInputText('');
    }
  };

  const toggleTodo = (id: number) => {
    // ğŸ˜ ë¶ˆë³€ì„±ì„ ì§€í‚¤ë©´ì„œ ì—…ë°ì´íŠ¸
    setTodos(prevTodos =>
      prevTodos.map(todo =>
        todo.id === id 
          ? { ...todo, completed: !todo.completed }
          : todo
      )
    );
  };

  const deleteTodo = (id: number) => {
    setTodos(prevTodos => prevTodos.filter(todo => todo.id !== id));
  };

  const completedCount = todos.filter(todo => todo.completed).length;
  const totalCount = todos.length;

  return (
    <div className="todo-app">
      <h1>í•  ì¼ ê´€ë¦¬</h1>
      
      <div className="input-section">
        <input
          type="text"
          value={inputText}
          onChange={(e) => setInputText(e.target.value)}
          onKeyPress={(e) => e.key === 'Enter' && addTodo()}
          placeholder="ìƒˆ í•  ì¼ì„ ì…ë ¥í•˜ì„¸ìš”..."
        />
        <button onClick={addTodo}>ì¶”ê°€</button>
      </div>

      <div className="stats">
        ì§„í–‰ë¥ : {totalCount > 0 ? Math.round((completedCount / totalCount) * 100) : 0}%
        ({completedCount} / {totalCount})
      </div>

      <ul className="todo-list">
        {todos.map(todo => (
          <li key={todo.id} className={`todo-item ${todo.completed ? 'completed' : ''}`}>
            <input
              type="checkbox"
              checked={todo.completed}
              onChange={() => toggleTodo(todo.id)}
            />
            <span className="todo-text">{todo.text}</span>
            <button onClick={() => deleteTodo(todo.id)}>ì‚­ì œ</button>
          </li>
        ))}
      </ul>

      {todos.length === 0 && (
        <p className="empty-message">ì•„ì§ í•  ì¼ì´ ì—†ìŠµë‹ˆë‹¤. ìƒˆë¡œìš´ í•  ì¼ì„ ì¶”ê°€í•´ë³´ì„¸ìš”!</p>
      )}
    </div>
  );
};
```

**useState í•µì‹¬ í¬ì¸íŠ¸:**
- âœ… **í•¨ìˆ˜í˜• ì—…ë°ì´íŠ¸**: `setState(prev => prev + 1)` ê¶Œì¥
- âœ… **ë¶ˆë³€ì„± ìœ ì§€**: ê°ì²´/ë°°ì—´ì„ ì§ì ‘ ìˆ˜ì •í•˜ì§€ ë§ê³  ìƒˆë¡œ ë§Œë“¤ê¸°
- âœ… **ì ì ˆí•œ ì´ˆê¸°ê°’**: íƒ€ì…ì— ë§ëŠ” ì´ˆê¸°ê°’ ì„¤ì •
- âš ï¸ **ìƒíƒœ ë¶„ë¦¬**: ê´€ë ¨ ì—†ëŠ” ìƒíƒœëŠ” ë”°ë¡œ ê´€ë¦¬

---

## âš¡ useEffect: ì‚¬ì´ë“œ ì´í™íŠ¸ì˜ ë§ˆë²•ì‚¬

### ê¸°ë³¸ ê°œë…ê³¼ ìƒëª…ì£¼ê¸° ë§¤í•‘

```tsx
import { useState, useEffect } from 'react';

const LifecycleExample: React.FC = () => {
  const [count, setCount] = useState(0);
  const [name, setName] = useState('');

  // 1ï¸âƒ£ componentDidMountì™€ ê°™ìŒ (ì˜ì¡´ì„± ë°°ì—´ì´ ë¹ˆ ë°°ì—´)
  useEffect(() => {
    console.log('ì»´í¬ë„ŒíŠ¸ê°€ ë§ˆìš´íŠ¸ë˜ì—ˆìŠµë‹ˆë‹¤!');
    
    // API í˜¸ì¶œ, êµ¬ë… ì„¤ì • ë“± ì´ˆê¸°í™” ì‘ì—…
    document.title = 'React Hooks ê°•ì˜';
    
    // 2ï¸âƒ£ componentWillUnmountì™€ ê°™ìŒ (cleanup function)
    return () => {
      console.log('ì»´í¬ë„ŒíŠ¸ê°€ ì–¸ë§ˆìš´íŠ¸ë©ë‹ˆë‹¤!');
      document.title = 'React App'; // ì›ë˜ëŒ€ë¡œ ë³µêµ¬
    };
  }, []); // ë¹ˆ ë°°ì—´ = í•œ ë²ˆë§Œ ì‹¤í–‰

  // 3ï¸âƒ£ componentDidUpdateì™€ ê°™ìŒ (íŠ¹ì • ê°’ì´ ë³€ê²½ë  ë•Œ)
  useEffect(() => {
    console.log(`countê°€ ${count}ë¡œ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤!`);
    
    if (count > 10) {
      alert('ì¹´ìš´íŠ¸ê°€ 10ì„ ì´ˆê³¼í–ˆìŠµë‹ˆë‹¤!');
    }
  }, [count]); // countê°€ ë³€ê²½ë  ë•Œë§Œ ì‹¤í–‰

  // 4ï¸âƒ£ ëª¨ë“  ë Œë”ë§ í›„ì— ì‹¤í–‰ (ì˜ì¡´ì„± ë°°ì—´ ì—†ìŒ)
  useEffect(() => {
    console.log('ë§¤ ë Œë”ë§ë§ˆë‹¤ ì‹¤í–‰ë©ë‹ˆë‹¤');
    // ì„±ëŠ¥ìƒ ì¢‹ì§€ ì•Šìœ¼ë¯€ë¡œ íŠ¹ë³„í•œ ê²½ìš°ê°€ ì•„ë‹ˆë©´ ì‚¬ìš©í•˜ì§€ ì•ŠìŒ
  });

  return (
    <div>
      <h2>ì¹´ìš´íŠ¸: {count}</h2>
      <button onClick={() => setCount(count + 1)}>ì¦ê°€</button>
      
      <div>
        <input 
          value={name} 
          onChange={(e) => setName(e.target.value)}
          placeholder="ì´ë¦„ ì…ë ¥"
        />
        <p>ì´ë¦„: {name}</p>
      </div>
    </div>
  );
};
```

### ì‹¤ì „ ë°ì´í„° í˜ì¹­

```tsx
interface User {
  id: number;
  name: string;
  email: string;
  avatar?: string;
}

interface ApiError {
  message: string;
  status: number;
}

const UserProfile: React.FC<{ userId: number }> = ({ userId }) => {
  const [user, setUser] = useState<User | null>(null);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState<ApiError | null>(null);

  useEffect(() => {
    // ğŸ˜ async/awaitë¥¼ useEffect ì•ˆì—ì„œ ì‚¬ìš©í•˜ëŠ” íŒ¨í„´
    const fetchUser = async () => {
      try {
        setLoading(true);
        setError(null);
        
        // ì‹¤ì œ API í˜¸ì¶œ
        const response = await fetch(`/api/users/${userId}`);
        
        if (!response.ok) {
          throw {
            message: `ì‚¬ìš©ìë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤ (${response.status})`,
            status: response.status
          };
        }
        
        const userData = await response.json();
        setUser(userData);
        
      } catch (err) {
        console.error('ì‚¬ìš©ì ë°ì´í„° ë¡œë”© ì‹¤íŒ¨:', err);
        setError(err as ApiError);
      } finally {
        setLoading(false);
      }
    };

    fetchUser();
  }, [userId]); // userIdê°€ ë³€ê²½ë˜ë©´ ë‹¤ì‹œ ì‹¤í–‰

  // ë¡œë”© ìƒíƒœ
  if (loading) {
    return (
      <div className="loading-container">
        <div className="spinner"></div>
        <p>ì‚¬ìš©ì ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</p>
      </div>
    );
  }

  // ì—ëŸ¬ ìƒíƒœ
  if (error) {
    return (
      <div className="error-container">
        <h3>âš ï¸ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤</h3>
        <p>{error.message}</p>
        <button onClick={() => window.location.reload()}>
          ë‹¤ì‹œ ì‹œë„í•˜ê¸°
        </button>
      </div>
    );
  }

  // ì •ìƒ ìƒíƒœ
  return (
    <div className="user-profile">
      <div className="user-avatar">
        <img 
          src={user?.avatar || '/default-avatar.png'} 
          alt={`${user?.name} ì•„ë°”íƒ€`}
          onError={(e) => {
            // ì´ë¯¸ì§€ ë¡œë”© ì‹¤íŒ¨ì‹œ ê¸°ë³¸ ì´ë¯¸ì§€ë¡œ êµì²´
            e.currentTarget.src = '/default-avatar.png';
          }}
        />
      </div>
      
      <div className="user-info">
        <h2>{user?.name}</h2>
        <p>{user?.email}</p>
      </div>
    </div>
  );
};
```

### íƒ€ì´ë¨¸ì™€ êµ¬ë… ê´€ë¦¬

```tsx
const TimerApp: React.FC = () => {
  const [seconds, setSeconds] = useState(0);
  const [isRunning, setIsRunning] = useState(false);

  useEffect(() => {
    let intervalId: NodeJS.Timeout;

    if (isRunning) {
      // íƒ€ì´ë¨¸ ì‹œì‘
      intervalId = setInterval(() => {
        setSeconds(prevSeconds => prevSeconds + 1);
      }, 1000);
    }

    // ğŸ˜ cleanup í•¨ìˆ˜ë¡œ íƒ€ì´ë¨¸ ì •ë¦¬
    return () => {
      if (intervalId) {
        clearInterval(intervalId);
      }
    };
  }, [isRunning]); // isRunningì´ ë³€ê²½ë  ë•Œë§ˆë‹¤ ì‹¤í–‰

  // í‚¤ë³´ë“œ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡
  useEffect(() => {
    const handleKeyPress = (event: KeyboardEvent) => {
      if (event.code === 'Space') {
        event.preventDefault();
        setIsRunning(prev => !prev);
      } else if (event.code === 'KeyR') {
        setSeconds(0);
        setIsRunning(false);
      }
    };

    // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡
    document.addEventListener('keydown', handleKeyPress);

    // ğŸ˜ cleanup í•¨ìˆ˜ë¡œ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì œê±°
    return () => {
      document.removeEventListener('keydown', handleKeyPress);
    };
  }, []); // í•œ ë²ˆë§Œ ë“±ë¡

  const formatTime = (totalSeconds: number) => {
    const minutes = Math.floor(totalSeconds / 60);
    const secs = totalSeconds % 60;
    return `${minutes.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
  };

  return (
    <div className="timer-app">
      <h1>ìŠ¤í†±ì›Œì¹˜</h1>
      
      <div className="timer-display">
        {formatTime(seconds)}
      </div>
      
      <div className="timer-controls">
        <button onClick={() => setIsRunning(!isRunning)}>
          {isRunning ? 'ì¼ì‹œì •ì§€' : 'ì‹œì‘'}
        </button>
        <button onClick={() => { setSeconds(0); setIsRunning(false); }}>
          ë¦¬ì…‹
        </button>
      </div>
      
      <div className="timer-instructions">
        <p>ğŸ’¡ ë‹¨ì¶•í‚¤: ìŠ¤í˜ì´ìŠ¤ë°”(ì‹œì‘/ì •ì§€), R(ë¦¬ì…‹)</p>
      </div>
    </div>
  );
};
```

**useEffect í•µì‹¬ í¬ì¸íŠ¸:**
- âœ… **ì˜ì¡´ì„± ë°°ì—´ ì •í™•íˆ**: ì‚¬ìš©í•˜ëŠ” ëª¨ë“  ê°’ì„ ì˜ì¡´ì„±ì— í¬í•¨
- âœ… **cleanup í•¨ìˆ˜**: ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ë°©ì§€ë¥¼ ìœ„í•´ ì •ë¦¬ ì‘ì—… í•„ìˆ˜
- âœ… **async í•¨ìˆ˜**: useEffect ë‚´ë¶€ì—ì„œ ë³„ë„ í•¨ìˆ˜ë¡œ ì •ì˜
- âš ï¸ **ë¬´í•œ ë£¨í”„ ì£¼ì˜**: ì˜ì¡´ì„± ë°°ì—´ì„ ì˜¬ë°”ë¥´ê²Œ ì„¤ì •

---

## ğŸŒ useContext: Prop Drilling í•´ê²°ì‚¬

### Prop Drilling ë¬¸ì œ

```tsx
// ğŸ˜¢ Propsë¥¼ ì—¬ëŸ¬ ë‹¨ê³„ë¡œ ì „ë‹¬í•˜ëŠ” ë¹„íš¨ìœ¨ì ì¸ ë°©ì‹
const App = () => {
  const [user, setUser] = useState({ name: 'Andrew', theme: 'dark' });
  
  return (
    <div>
      <Header user={user} />
      <Main user={user} />
      <Footer user={user} />
    </div>
  );
};

const Header = ({ user }) => {
  return (
    <header>
      <Navigation user={user} />
    </header>
  );
};

const Navigation = ({ user }) => {
  return (
    <nav>
      <UserMenu user={user} />
    </nav>
  );
};

// ê²°êµ­ ì—¬ê¸°ì„œë§Œ userë¥¼ ì‚¬ìš©í•˜ëŠ”ë° ì—¬ëŸ¬ ì»´í¬ë„ŒíŠ¸ë¥¼ ê±°ì³ì„œ ì „ë‹¬ë¨
const UserMenu = ({ user }) => {
  return <div>ì•ˆë…•í•˜ì„¸ìš”, {user.name}ë‹˜!</div>;
};
```

### Context APIë¡œ í•´ê²°

```tsx
import { createContext, useContext, useState, ReactNode } from 'react';

// 1ï¸âƒ£ Context íƒ€ì… ì •ì˜
interface User {
  id: number;
  name: string;
  email: string;
  theme: 'light' | 'dark';
}

interface UserContextType {
  user: User | null;
  updateUser: (user: User) => void;
  toggleTheme: () => void;
  logout: () => void;
}

// 2ï¸âƒ£ Context ìƒì„±
const UserContext = createContext<UserContextType | undefined>(undefined);

// 3ï¸âƒ£ Context Provider ì»´í¬ë„ŒíŠ¸
interface UserProviderProps {
  children: ReactNode;
}

export const UserProvider: React.FC<UserProviderProps> = ({ children }) => {
  const [user, setUser] = useState<User | null>({
    id: 1,
    name: 'Andrew',
    email: 'andrew@example.com',
    theme: 'light'
  });

  const updateUser = (newUser: User) => {
    setUser(newUser);
    // ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ì €ì¥
    localStorage.setItem('user', JSON.stringify(newUser));
  };

  const toggleTheme = () => {
    if (user) {
      const newTheme = user.theme === 'light' ? 'dark' : 'light';
      updateUser({ ...user, theme: newTheme });
    }
  };

  const logout = () => {
    setUser(null);
    localStorage.removeItem('user');
  };

  const value = {
    user,
    updateUser,
    toggleTheme,
    logout
  };

  return (
    <UserContext.Provider value={value}>
      {children}
    </UserContext.Provider>
  );
};

// 4ï¸âƒ£ Contextë¥¼ ì‚¬ìš©í•˜ëŠ” ì»¤ìŠ¤í…€ í›…
export const useUser = (): UserContextType => {
  const context = useContext(UserContext);
  
  if (context === undefined) {
    throw new Error('useUserëŠ” UserProvider ë‚´ë¶€ì—ì„œ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤');
  }
  
  return context;
};

// 5ï¸âƒ£ App ì»´í¬ë„ŒíŠ¸ì—ì„œ Provider ì„¤ì •
const App = () => {
  return (
    <UserProvider>
      <div className="app">
        <Header />
        <Main />
        <Footer />
      </div>
    </UserProvider>
  );
};

// 6ï¸âƒ£ ì–´ë””ì„œë“  Context ì‚¬ìš© ê°€ëŠ¥
const Header = () => {
  const { user, toggleTheme } = useUser();
  
  return (
    <header className={`header ${user?.theme}`}>
      <h1>ë‚´ ì•±</h1>
      <Navigation />
    </header>
  );
};

const Navigation = () => {
  return (
    <nav>
      <UserMenu />
    </nav>
  );
};

// ğŸ˜ Props ì „ë‹¬ ì—†ì´ ë°”ë¡œ Context ì‚¬ìš©!
const UserMenu = () => {
  const { user, toggleTheme, logout } = useUser();
  
  if (!user) {
    return <button>ë¡œê·¸ì¸</button>;
  }
  
  return (
    <div className="user-menu">
      <span>ì•ˆë…•í•˜ì„¸ìš”, {user.name}ë‹˜!</span>
      <button onClick={toggleTheme}>
        {user.theme === 'light' ? 'ğŸŒ™' : 'â˜€ï¸'} í…Œë§ˆ ë³€ê²½
      </button>
      <button onClick={logout}>ë¡œê·¸ì•„ì›ƒ</button>
    </div>
  );
};

const Main = () => {
  const { user } = useUser();
  
  return (
    <main className={`main ${user?.theme}`}>
      <h2>ë©”ì¸ ì½˜í…ì¸ </h2>
      {user ? (
        <div>
          <p>{user.name}ë‹˜ì˜ ëŒ€ì‹œë³´ë“œì…ë‹ˆë‹¤.</p>
          <UserSettings />
        </div>
      ) : (
        <p>ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.</p>
      )}
    </main>
  );
};

const UserSettings = () => {
  const { user, updateUser } = useUser();
  const [name, setName] = useState(user?.name || '');
  
  const handleSave = () => {
    if (user && name.trim()) {
      updateUser({ ...user, name: name.trim() });
      alert('ì„¤ì •ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!');
    }
  };
  
  return (
    <div className="user-settings">
      <h3>ì‚¬ìš©ì ì„¤ì •</h3>
      <div>
        <label>ì´ë¦„:</label>
        <input 
          value={name}
          onChange={(e) => setName(e.target.value)}
        />
        <button onClick={handleSave}>ì €ì¥</button>
      </div>
    </div>
  );
};
```

**useContext ì¥ì :**
- âœ… **Prop Drilling í•´ê²°**: ì¤‘ê°„ ì»´í¬ë„ŒíŠ¸ë“¤ì´ ë¶ˆí•„ìš”í•œ propsë¥¼ ë°›ì§€ ì•ŠìŒ
- âœ… **ì „ì—­ ìƒíƒœ**: ì•± ì–´ë””ì„œë“  ì ‘ê·¼ ê°€ëŠ¥í•œ ìƒíƒœ
- âœ… **íƒ€ì… ì•ˆì „ì„±**: TypeScriptì™€ ì™„ë²½ í˜¸í™˜
- âœ… **ì„±ëŠ¥**: í•„ìš”í•œ ì»´í¬ë„ŒíŠ¸ë§Œ ë¦¬ë Œë”ë§

---

## ğŸš€ ì„±ëŠ¥ ìµœì í™”: useMemoì™€ useCallback

### useMemo: ë¹„ì‹¼ ê³„ì‚° ê²°ê³¼ ìºì‹±

```tsx
import { useState, useMemo, useCallback } from 'react';

interface Product {
  id: number;
  name: string;
  price: number;
  category: string;
  rating: number;
}

const ProductList: React.FC = () => {
  const [products] = useState<Product[]>([
    { id: 1, name: 'ë…¸íŠ¸ë¶', price: 1500000, category: 'ì „ìê¸°ê¸°', rating: 4.5 },
    { id: 2, name: 'ë§ˆìš°ìŠ¤', price: 50000, category: 'ì „ìê¸°ê¸°', rating: 4.2 },
    { id: 3, name: 'í‚¤ë³´ë“œ', price: 120000, category: 'ì „ìê¸°ê¸°', rating: 4.7 },
    // ... ìˆ˜ë°± ê°œì˜ ì œí’ˆ
  ]);
  
  const [filterCategory, setFilterCategory] = useState('');
  const [sortBy, setSortBy] = useState<'price' | 'rating'>('price');
  const [searchTerm, setSearchTerm] = useState('');

  // ğŸ˜ useMemoë¡œ ë¹„ì‹¼ ê³„ì‚° ê²°ê³¼ ìºì‹±
  const filteredAndSortedProducts = useMemo(() => {
    console.log('í•„í„°ë§ê³¼ ì •ë ¬ ê³„ì‚° ì¤‘...'); // ì–¸ì œ ê³„ì‚°ë˜ëŠ”ì§€ í™•ì¸
    
    let filtered = products;
    
    // ì¹´í…Œê³ ë¦¬ í•„í„°ë§
    if (filterCategory) {
      filtered = filtered.filter(product => product.category === filterCategory);
    }
    
    // ê²€ìƒ‰ì–´ í•„í„°ë§
    if (searchTerm) {
      filtered = filtered.filter(product => 
        product.name.toLowerCase().includes(searchTerm.toLowerCase())
      );
    }
    
    // ì •ë ¬
    filtered.sort((a, b) => {
      if (sortBy === 'price') {
        return a.price - b.price;
      } else {
        return b.rating - a.rating;
      }
    });
    
    return filtered;
  }, [products, filterCategory, searchTerm, sortBy]); // ì˜ì¡´ì„± ë°°ì—´

  // ğŸ˜ í†µê³„ ê³„ì‚°ë„ useMemoë¡œ ìµœì í™”
  const statistics = useMemo(() => {
    const totalProducts = filteredAndSortedProducts.length;
    const averagePrice = totalProducts > 0 
      ? filteredAndSortedProducts.reduce((sum, p) => sum + p.price, 0) / totalProducts 
      : 0;
    const averageRating = totalProducts > 0
      ? filteredAndSortedProducts.reduce((sum, p) => sum + p.rating, 0) / totalProducts
      : 0;
    
    return {
      totalProducts,
      averagePrice: Math.round(averagePrice),
      averageRating: Math.round(averageRating * 10) / 10
    };
  }, [filteredAndSortedProducts]);

  return (
    <div className="product-list">
      <h1>ìƒí’ˆ ëª©ë¡</h1>
      
      {/* í•„í„° ë° ê²€ìƒ‰ UI */}
      <div className="controls">
        <input
          type="text"
          placeholder="ìƒí’ˆëª… ê²€ìƒ‰..."
          value={searchTerm}
          onChange={(e) => setSearchTerm(e.target.value)}
        />
        
        <select
          value={filterCategory}
          onChange={(e) => setFilterCategory(e.target.value)}
        >
          <option value="">ëª¨ë“  ì¹´í…Œê³ ë¦¬</option>
          <option value="ì „ìê¸°ê¸°">ì „ìê¸°ê¸°</option>
        </select>
        
        <select
          value={sortBy}
          onChange={(e) => setSortBy(e.target.value as 'price' | 'rating')}
        >
          <option value="price">ê°€ê²©ìˆœ</option>
          <option value="rating">í‰ì ìˆœ</option>
        </select>
      </div>
      
      {/* í†µê³„ ì •ë³´ */}
      <div className="statistics">
        <p>ì´ {statistics.totalProducts}ê°œ ìƒí’ˆ</p>
        <p>í‰ê·  ê°€ê²©: {statistics.averagePrice.toLocaleString()}ì›</p>
        <p>í‰ê·  í‰ì : {statistics.averageRating}ì </p>
      </div>
      
      {/* ìƒí’ˆ ëª©ë¡ */}
      <div className="products">
        {filteredAndSortedProducts.map(product => (
          <ProductCard key={product.id} product={product} />
        ))}
      </div>
    </div>
  );
};
```

### useCallback: í•¨ìˆ˜ ì¬ìƒì„± ë°©ì§€

```tsx
import React, { useState, useCallback, memo } from 'react';

// ğŸ˜ React.memoë¡œ ë˜í•‘ëœ ìì‹ ì»´í¬ë„ŒíŠ¸ (propsê°€ ë³€ê²½ë˜ì§€ ì•Šìœ¼ë©´ ë¦¬ë Œë”ë§ ì•ˆë¨)
const ProductCard = memo<{ 
  product: Product;
  onAddToCart: (productId: number) => void;
  onToggleFavorite: (productId: number) => void;
}>(({ product, onAddToCart, onToggleFavorite }) => {
  console.log(`ProductCard ${product.name} ë Œë”ë§ë¨`); // ë Œë”ë§ íšŸìˆ˜ í™•ì¸
  
  return (
    <div className="product-card">
      <h3>{product.name}</h3>
      <p>ê°€ê²©: {product.price.toLocaleString()}ì›</p>
      <p>í‰ì : â­ {product.rating}</p>
      
      <div className="buttons">
        <button onClick={() => onAddToCart(product.id)}>
          ì¥ë°”êµ¬ë‹ˆ ì¶”ê°€
        </button>
        <button onClick={() => onToggleFavorite(product.id)}>
          â¤ï¸ ì°œí•˜ê¸°
        </button>
      </div>
    </div>
  );
});

const ShoppingApp: React.FC = () => {
  const [products] = useState<Product[]>([
    // ... ìƒí’ˆ ë°ì´í„°
  ]);
  const [cart, setCart] = useState<number[]>([]);
  const [favorites, setFavorites] = useState<number[]>([]);
  const [searchTerm, setSearchTerm] = useState('');

  // ğŸ˜¢ ë§¤ë²ˆ ìƒˆë¡œìš´ í•¨ìˆ˜ê°€ ìƒì„±ë˜ì–´ ProductCardê°€ ë¶ˆí•„ìš”í•˜ê²Œ ë¦¬ë Œë”ë§ë¨
  // const addToCart = (productId: number) => {
  //   setCart(prev => [...prev, productId]);
  // };

  // ğŸ˜ useCallbackìœ¼ë¡œ í•¨ìˆ˜ ë©”ëª¨ì´ì œì´ì…˜
  const addToCart = useCallback((productId: number) => {
    setCart(prev => {
      if (!prev.includes(productId)) {
        return [...prev, productId];
      }
      return prev;
    });
    
    // ì‚¬ìš©ì í”¼ë“œë°±
    alert('ì¥ë°”êµ¬ë‹ˆì— ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤!');
  }, []); // ì˜ì¡´ì„±ì´ ì—†ìœ¼ë¯€ë¡œ í•¨ìˆ˜ëŠ” í•œ ë²ˆë§Œ ìƒì„±ë¨

  const toggleFavorite = useCallback((productId: number) => {
    setFavorites(prev => {
      if (prev.includes(productId)) {
        return prev.filter(id => id !== productId);
      } else {
        return [...prev, productId];
      }
    });
  }, []);

  // ê²€ìƒ‰ ê²°ê³¼ë„ useMemoë¡œ ìµœì í™”
  const filteredProducts = useMemo(() => {
    return products.filter(product => 
      product.name.toLowerCase().includes(searchTerm.toLowerCase())
    );
  }, [products, searchTerm]);

  return (
    <div className="shopping-app">
      <header>
        <h1>ì˜¨ë¼ì¸ ì‡¼í•‘ëª°</h1>
        <div className="header-info">
          <span>ì¥ë°”êµ¬ë‹ˆ: {cart.length}ê°œ</span>
          <span>ì°œ ëª©ë¡: {favorites.length}ê°œ</span>
        </div>
      </header>
      
      <div className="search-section">
        <input
          type="text"
          placeholder="ìƒí’ˆ ê²€ìƒ‰..."
          value={searchTerm}
          onChange={(e) => setSearchTerm(e.target.value)}
        />
      </div>
      
      <div className="products-grid">
        {filteredProducts.map(product => (
          <ProductCard
            key={product.id}
            product={product}
            onAddToCart={addToCart} // í•¨ìˆ˜ê°€ ë©”ëª¨ì´ì œì´ì…˜ë˜ì–´ ìˆì–´ì„œ ë¦¬ë Œë”ë§ ì•ˆë¨
            onToggleFavorite={toggleFavorite}
          />
        ))}
      </div>
    </div>
  );
};
```

**ì„±ëŠ¥ ìµœì í™” í•µì‹¬ í¬ì¸íŠ¸:**
- âœ… **useMemo**: ë¹„ì‹¼ ê³„ì‚° ê²°ê³¼ë¥¼ ìºì‹±
- âœ… **useCallback**: í•¨ìˆ˜ë¥¼ ë©”ëª¨ì´ì œì´ì…˜í•´ì„œ ìì‹ ì»´í¬ë„ŒíŠ¸ ìµœì í™”
- âœ… **React.memo**: propsê°€ ë³€ê²½ë˜ì§€ ì•Šìœ¼ë©´ ë¦¬ë Œë”ë§ ë°©ì§€
- âš ï¸ **ë‚¨ìš© ì£¼ì˜**: ëª¨ë“  ê³³ì— ì‚¬ìš©í•˜ë©´ ì˜¤íˆë ¤ ì„±ëŠ¥ ì €í•˜

---

## ğŸ¨ Custom Hooks: ë¡œì§ ì¬ì‚¬ìš©ì˜ ë§ˆë²•

### ê¸°ë³¸ Custom Hook

```tsx
// ğŸ˜ ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì™€ ì—°ë™ë˜ëŠ” ìƒíƒœ ê´€ë¦¬ Hook
import { useState, useEffect } from 'react';

function useLocalStorage<T>(key: string, initialValue: T) {
  // ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì—ì„œ ì´ˆê¸°ê°’ ê°€ì ¸ì˜¤ê¸°
  const [storedValue, setStoredValue] = useState<T>(() => {
    try {
      const item = window.localStorage.getItem(key);
      return item ? JSON.parse(item) : initialValue;
    } catch (error) {
      console.error(`ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ ì½ê¸° ì˜¤ë¥˜:`, error);
      return initialValue;
    }
  });

  // ê°’ì„ ì„¤ì •í•˜ê³  ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ì €ì¥
  const setValue = (value: T | ((val: T) => T)) => {
    try {
      const valueToStore = value instanceof Function ? value(storedValue) : value;
      setStoredValue(valueToStore);
      window.localStorage.setItem(key, JSON.stringify(valueToStore));
    } catch (error) {
      console.error(`ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ ì €ì¥ ì˜¤ë¥˜:`, error);
    }
  };

  return [storedValue, setValue] as const;
}

// ì‚¬ìš© ì˜ˆì‹œ
const UserPreferences: React.FC = () => {
  const [theme, setTheme] = useLocalStorage<'light' | 'dark'>('theme', 'light');
  const [language, setLanguage] = useLocalStorage<'ko' | 'en'>('language', 'ko');
  const [fontSize, setFontSize] = useLocalStorage<number>('fontSize', 16);

  return (
    <div className={`preferences ${theme}`}>
      <h2>ì‚¬ìš©ì ì„¤ì •</h2>
      
      <div className="setting">
        <label>í…Œë§ˆ:</label>
        <select value={theme} onChange={(e) => setTheme(e.target.value as 'light' | 'dark')}>
          <option value="light">ë¼ì´íŠ¸</option>
          <option value="dark">ë‹¤í¬</option>
        </select>
      </div>
      
      <div className="setting">
        <label>ì–¸ì–´:</label>
        <select value={language} onChange={(e) => setLanguage(e.target.value as 'ko' | 'en')}>
          <option value="ko">í•œêµ­ì–´</option>
          <option value="en">English</option>
        </select>
      </div>
      
      <div className="setting">
        <label>ê¸€ê¼´ í¬ê¸°:</label>
        <input 
          type="range" 
          min="12" 
          max="24" 
          value={fontSize}
          onChange={(e) => setFontSize(Number(e.target.value))}
        />
        <span>{fontSize}px</span>
      </div>
    </div>
  );
};
```

### ì‹¤ì „ API í˜ì¹­ Hook

```tsx
import { useState, useEffect, useCallback } from 'react';

interface FetchState<T> {
  data: T | null;
  loading: boolean;
  error: string | null;
}

interface UseFetchOptions {
  immediate?: boolean; // ì¦‰ì‹œ ì‹¤í–‰ ì—¬ë¶€
  refetchInterval?: number; // ìë™ ìƒˆë¡œê³ ì¹¨ ê°„ê²©(ms)
}

function useFetch<T>(
  url: string,
  options: UseFetchOptions = {}
) {
  const { immediate = true, refetchInterval } = options;
  
  const [state, setState] = useState<FetchState<T>>({
    data: null,
    loading: immediate,
    error: null
  });

  const fetchData = useCallback(async () => {
    setState(prev => ({ ...prev, loading: true, error: null }));
    
    try {
      const response = await fetch(url);
      
      if (!response.ok) {
        throw new Error(`HTTP ${response.status}: ${response.statusText}`);
      }
      
      const data = await response.json();
      setState({ data, loading: false, error: null });
      
    } catch (error) {
      setState({
        data: null,
        loading: false,
        error: error instanceof Error ? error.message : 'ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜'
      });
    }
  }, [url]);

  // ìˆ˜ë™ ìƒˆë¡œê³ ì¹¨ í•¨ìˆ˜
  const refetch = useCallback(() => {
    fetchData();
  }, [fetchData]);

  // ì´ˆê¸° ë¡œë”©
  useEffect(() => {
    if (immediate) {
      fetchData();
    }
  }, [fetchData, immediate]);

  // ìë™ ìƒˆë¡œê³ ì¹¨
  useEffect(() => {
    if (refetchInterval && refetchInterval > 0) {
      const intervalId = setInterval(fetchData, refetchInterval);
      return () => clearInterval(intervalId);
    }
  }, [fetchData, refetchInterval]);

  return {
    ...state,
    refetch
  };
}

// ì‚¬ìš© ì˜ˆì‹œ
interface Todo {
  id: number;
  title: string;
  completed: boolean;
}

const TodoList: React.FC = () => {
  const { data: todos, loading, error, refetch } = useFetch<Todo[]>(
    'https://jsonplaceholder.typicode.com/todos',
    {
      immediate: true,
      refetchInterval: 30000 // 30ì´ˆë§ˆë‹¤ ìƒˆë¡œê³ ì¹¨
    }
  );

  if (loading) return <div className="loading">í•  ì¼ ëª©ë¡ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</div>;
  if (error) return <div className="error">ì˜¤ë¥˜: {error}</div>;

  return (
    <div className="todo-list">
      <div className="header">
        <h1>í•  ì¼ ëª©ë¡</h1>
        <button onClick={refetch}>ìƒˆë¡œê³ ì¹¨</button>
      </div>
      
      {todos && todos.slice(0, 10).map(todo => (
        <div key={todo.id} className={`todo-item ${todo.completed ? 'completed' : ''}`}>
          <span>{todo.title}</span>
          {todo.completed && <span className="check">âœ…</span>}
        </div>
      ))}
      
      <p className="info">
        ì´ {todos?.length}ê°œì˜ í•  ì¼ ì¤‘ {todos?.filter(t => t.completed).length}ê°œ ì™„ë£Œ
      </p>
    </div>
  );
};
```

### í¼ ê´€ë¦¬ Custom Hook

```tsx
import { useState, ChangeEvent, FormEvent } from 'react';

interface FormValidation {
  required?: boolean;
  minLength?: number;
  pattern?: RegExp;
  custom?: (value: string) => string | null;
}

interface FormField {
  value: string;
  error: string | null;
  validation?: FormValidation;
}

type FormSchema<T> = {
  [K in keyof T]: FormValidation;
};

function useForm<T extends Record<string, string>>(
  initialValues: T,
  validationSchema?: FormSchema<T>
) {
  const [values, setValues] = useState<T>(initialValues);
  const [errors, setErrors] = useState<Partial<Record<keyof T, string>>>({});
  const [touched, setTouched] = useState<Partial<Record<keyof T, boolean>>>({});

  const validateField = (name: keyof T, value: string): string | null => {
    if (!validationSchema || !validationSchema[name]) return null;

    const rules = validationSchema[name];

    if (rules.required && !value.trim()) {
      return 'í•„ìˆ˜ ì…ë ¥ í•­ëª©ì…ë‹ˆë‹¤';
    }

    if (rules.minLength && value.length < rules.minLength) {
      return `ìµœì†Œ ${rules.minLength}ì ì´ìƒ ì…ë ¥í•´ì£¼ì„¸ìš”`;
    }

    if (rules.pattern && !rules.pattern.test(value)) {
      return 'ì˜¬ë°”ë¥¸ í˜•ì‹ì´ ì•„ë‹™ë‹ˆë‹¤';
    }

    if (rules.custom) {
      return rules.custom(value);
    }

    return null;
  };

  const setValue = (name: keyof T, value: string) => {
    setValues(prev => ({ ...prev, [name]: value }));
    
    // ì‹¤ì‹œê°„ ìœ íš¨ì„± ê²€ì‚¬
    if (touched[name]) {
      const error = validateField(name, value);
      setErrors(prev => ({ ...prev, [name]: error }));
    }
  };

  const handleChange = (e: ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {
    const { name, value } = e.target;
    setValue(name as keyof T, value);
  };

  const handleBlur = (name: keyof T) => {
    setTouched(prev => ({ ...prev, [name]: true }));
    const error = validateField(name, values[name]);
    setErrors(prev => ({ ...prev, [name]: error }));
  };

  const validate = (): boolean => {
    const newErrors: Partial<Record<keyof T, string>> = {};
    let isValid = true;

    Object.keys(values).forEach(key => {
      const error = validateField(key as keyof T, values[key as keyof T]);
      if (error) {
        newErrors[key as keyof T] = error;
        isValid = false;
      }
    });

    setErrors(newErrors);
    return isValid;
  };

  const reset = () => {
    setValues(initialValues);
    setErrors({});
    setTouched({});
  };

  return {
    values,
    errors,
    touched,
    handleChange,
    handleBlur,
    setValue,
    validate,
    reset,
    isValid: Object.values(errors).every(error => !error)
  };
}

// ì‚¬ìš© ì˜ˆì‹œ
interface ContactForm {
  name: string;
  email: string;
  message: string;
}

const ContactPage: React.FC = () => {
  const form = useForm<ContactForm>(
    {
      name: '',
      email: '',
      message: ''
    },
    {
      name: {
        required: true,
        minLength: 2
      },
      email: {
        required: true,
        pattern: /^[^\s@]+@[^\s@]+\.[^\s@]+$/,
        custom: (value) => {
          if (value.includes('test')) {
            return 'í…ŒìŠ¤íŠ¸ ì´ë©”ì¼ì€ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤';
          }
          return null;
        }
      },
      message: {
        required: true,
        minLength: 10
      }
    }
  );

  const handleSubmit = (e: FormEvent) => {
    e.preventDefault();
    
    if (form.validate()) {
      console.log('í¼ ì œì¶œ:', form.values);
      alert('ë©”ì‹œì§€ê°€ ì „ì†¡ë˜ì—ˆìŠµë‹ˆë‹¤!');
      form.reset();
    }
  };

  return (
    <div className="contact-page">
      <h1>ë¬¸ì˜í•˜ê¸°</h1>
      
      <form onSubmit={handleSubmit}>
        <div className="form-group">
          <label>ì´ë¦„:</label>
          <input
            name="name"
            value={form.values.name}
            onChange={form.handleChange}
            onBlur={() => form.handleBlur('name')}
            className={form.errors.name ? 'error' : ''}
          />
          {form.errors.name && <span className="error-message">{form.errors.name}</span>}
        </div>

        <div className="form-group">
          <label>ì´ë©”ì¼:</label>
          <input
            name="email"
            type="email"
            value={form.values.email}
            onChange={form.handleChange}
            onBlur={() => form.handleBlur('email')}
            className={form.errors.email ? 'error' : ''}
          />
          {form.errors.email && <span className="error-message">{form.errors.email}</span>}
        </div>

        <div className="form-group">
          <label>ë©”ì‹œì§€:</label>
          <textarea
            name="message"
            value={form.values.message}
            onChange={form.handleChange}
            onBlur={() => form.handleBlur('message')}
            className={form.errors.message ? 'error' : ''}
            rows={5}
          />
          {form.errors.message && <span className="error-message">{form.errors.message}</span>}
        </div>

        <div className="form-actions">
          <button type="submit" disabled={!form.isValid}>
            ì „ì†¡í•˜ê¸°
          </button>
          <button type="button" onClick={form.reset}>
            ì´ˆê¸°í™”
          </button>
        </div>
      </form>
    </div>
  );
};
```

---

## ğŸ¯ ì¢…í•© ì‹¤ìŠµ: í˜„ëŒ€ì  ë¸”ë¡œê·¸ ì•±

ì´ì œ ë°°ìš´ ëª¨ë“  Hooksë¥¼ í™œìš©í•´ì„œ ì™„ì „í•œ ë¸”ë¡œê·¸ ì•±ì„ ë§Œë“¤ì–´ë³´ê² ìŠµë‹ˆë‹¤!

```tsx
// ğŸ“ hooks/useBlog.ts
import { useState, useCallback } from 'react';
import { useLocalStorage } from './useLocalStorage';

interface BlogPost {
  id: number;
  title: string;
  content: string;
  author: string;
  createdAt: Date;
  updatedAt: Date;
  tags: string[];
  isPublished: boolean;
  likes: number;
}

export const useBlog = () => {
  const [posts, setPosts] = useLocalStorage<BlogPost[]>('blog-posts', []);
  const [searchTerm, setSearchTerm] = useState('');
  const [selectedTag, setSelectedTag] = useState('');
  const [sortBy, setSortBy] = useState<'date' | 'likes'>('date');

  const createPost = useCallback((postData: Omit<BlogPost, 'id' | 'createdAt' | 'updatedAt' | 'likes'>) => {
    const newPost: BlogPost = {
      ...postData,
      id: Date.now(),
      createdAt: new Date(),
      updatedAt: new Date(),
      likes: 0
    };
    
    setPosts(prev => [newPost, ...prev]);
    return newPost.id;
  }, [setPosts]);

  const updatePost = useCallback((id: number, updates: Partial<BlogPost>) => {
    setPosts(prev => prev.map(post => 
      post.id === id 
        ? { ...post, ...updates, updatedAt: new Date() }
        : post
    ));
  }, [setPosts]);

  const deletePost = useCallback((id: number) => {
    setPosts(prev => prev.filter(post => post.id !== id));
  }, [setPosts]);

  const likePost = useCallback((id: number) => {
    setPosts(prev => prev.map(post =>
      post.id === id 
        ? { ...post, likes: post.likes + 1 }
        : post
    ));
  }, [setPosts]);

  // í•„í„°ë§ ë° ì •ë ¬ëœ í¬ìŠ¤íŠ¸
  const filteredPosts = useMemo(() => {
    let filtered = posts.filter(post => post.isPublished);
    
    if (searchTerm) {
      filtered = filtered.filter(post =>
        post.title.toLowerCase().includes(searchTerm.toLowerCase()) ||
        post.content.toLowerCase().includes(searchTerm.toLowerCase())
      );
    }
    
    if (selectedTag) {
      filtered = filtered.filter(post => post.tags.includes(selectedTag));
    }
    
    filtered.sort((a, b) => {
      if (sortBy === 'date') {
        return new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime();
      } else {
        return b.likes - a.likes;
      }
    });
    
    return filtered;
  }, [posts, searchTerm, selectedTag, sortBy]);

  const allTags = useMemo(() => {
    const tagSet = new Set<string>();
    posts.forEach(post => post.tags.forEach(tag => tagSet.add(tag)));
    return Array.from(tagSet).sort();
  }, [posts]);

  return {
    posts: filteredPosts,
    allPosts: posts,
    searchTerm,
    setSearchTerm,
    selectedTag,
    setSelectedTag,
    sortBy,
    setSortBy,
    allTags,
    createPost,
    updatePost,
    deletePost,
    likePost
  };
};

// ğŸ“ components/BlogApp.tsx
const BlogApp: React.FC = () => {
  const blog = useBlog();
  const [currentView, setCurrentView] = useState<'list' | 'create' | 'edit'>('list');
  const [editingPost, setEditingPost] = useState<BlogPost | null>(null);

  return (
    <div className="blog-app">
      <header className="blog-header">
        <h1>ğŸ“ ë‚´ ë¸”ë¡œê·¸</h1>
        <nav>
          <button 
            onClick={() => setCurrentView('list')}
            className={currentView === 'list' ? 'active' : ''}
          >
            í¬ìŠ¤íŠ¸ ëª©ë¡
          </button>
          <button 
            onClick={() => setCurrentView('create')}
            className={currentView === 'create' ? 'active' : ''}
          >
            ìƒˆ í¬ìŠ¤íŠ¸ ì‘ì„±
          </button>
        </nav>
      </header>

      <main className="blog-content">
        {currentView === 'list' && (
          <BlogPostList 
            {...blog}
            onEdit={(post) => {
              setEditingPost(post);
              setCurrentView('edit');
            }}
          />
        )}
        
        {currentView === 'create' && (
          <PostEditor 
            onSave={(postData) => {
              blog.createPost(postData);
              setCurrentView('list');
            }}
            onCancel={() => setCurrentView('list')}
          />
        )}
        
        {currentView === 'edit' && editingPost && (
          <PostEditor 
            post={editingPost}
            onSave={(postData) => {
              blog.updatePost(editingPost.id, postData);
              setCurrentView('list');
              setEditingPost(null);
            }}
            onCancel={() => {
              setCurrentView('list');
              setEditingPost(null);
            }}
          />
        )}
      </main>
    </div>
  );
};
```

**ì‹¤ìŠµ ê³¼ì œ:**
1. `useReducer`ë¥¼ ì‚¬ìš©í•´ì„œ ë³µì¡í•œ ìƒíƒœ ë¡œì§ì„ ê´€ë¦¬í•´ë³´ì„¸ìš”
2. `useRef`ë¥¼ ì‚¬ìš©í•´ì„œ í¬ì»¤ìŠ¤ ê´€ë¦¬ë¥¼ í•´ë³´ì„¸ìš”
3. ëŒ“ê¸€ ê¸°ëŠ¥ì„ ì¶”ê°€í•´ì„œ ì¤‘ì²© ìƒíƒœë¥¼ ê´€ë¦¬í•´ë³´ì„¸ìš”

---

## âœ… ì²´í¬í¬ì¸íŠ¸

ì´ ê°•ì˜ë¥¼ ì™„ë£Œí–ˆë‹¤ë©´ ë‹¤ìŒì„ í•  ìˆ˜ ìˆì–´ì•¼ í•©ë‹ˆë‹¤:

- [ ] Class Componentì™€ Hooksì˜ ì°¨ì´ì  ì„¤ëª…
- [ ] useStateë¡œ ë‹¤ì–‘í•œ íƒ€ì…ì˜ ìƒíƒœ ê´€ë¦¬
- [ ] useEffectë¡œ ìƒëª…ì£¼ê¸°ì™€ ì‚¬ì´ë“œ ì´í™íŠ¸ ì²˜ë¦¬
- [ ] useContextë¡œ ì „ì—­ ìƒíƒœ ê´€ë¦¬
- [ ] useMemo, useCallbackìœ¼ë¡œ ì„±ëŠ¥ ìµœì í™”
- [ ] Custom Hooksë¡œ ë¡œì§ ì¬ì‚¬ìš©

## ğŸ’¡ í•µì‹¬ ì •ë¦¬

1. **HooksëŠ” í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°ì˜ ë ¥**
   - ë¡œì§ ì¬ì‚¬ìš©ì´ ì‰¬ì›€
   - ê´€ì‹¬ì‚¬ ë¶„ë¦¬ê°€ ìì—°ìŠ¤ëŸ¬ì›€
   - í…ŒìŠ¤íŠ¸í•˜ê¸° ìš©ì´í•¨

2. **ì„±ëŠ¥ ìµœì í™”ëŠ” í•„ìš”í•  ë•Œë§Œ**
   - premature optimizationì„ í”¼í•˜ì„¸ìš”
   - ì‹¤ì œ ì„±ëŠ¥ ë¬¸ì œê°€ ìˆì„ ë•Œ ìµœì í™”
   - React DevTools Profiler í™œìš©

3. **Custom HooksëŠ” ë¡œì§ ë¶„ë¦¬ì˜ í•µì‹¬**
   - ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ë¡œì§ì„ ì¶”ì¶œ
   - ì»´í¬ë„ŒíŠ¸ë¥¼ ê¹”ë”í•˜ê²Œ ìœ ì§€
   - í…ŒìŠ¤íŠ¸ì™€ ìœ ì§€ë³´ìˆ˜ê°€ ì‰¬ì›Œì§

<function_calls>
<invoke name="TodoWrite">
<parameter name="todos">[{"content": "Phase 2 \uac15\uc758 4\uac1c \uc81c\uc791", "status": "in_progress", "activeForm": "Phase 2 \uac15\uc758 4\uac1c \uc81c\uc791 \uc911"}, {"content": "4\uac15: React Hooks \ub9c8\uc2a4\ud130 \uc791\uc131", "status": "completed", "activeForm": "4\uac15: React Hooks \ub9c8\uc2a4\ud130 \uc791\uc131 \uc911"}, {"content": "5\uac15: \ubaa8\ub358 \uc0c1\ud0dc \uad00\ub9ac \uc791\uc131", "status": "in_progress", "activeForm": "5\uac15: \ubaa8\ub358 \uc0c1\ud0dc \uad00\ub9ac \uc791\uc131 \uc911"}, {"content": "6\uac15: \uc2a4\ud0c0\uc77c\ub9c1 & UI \uc791\uc131", "status": "pending", "activeForm": "6\uac15: \uc2a4\ud0c0\uc77c\ub9c1 & UI \uc791\uc131 \uc911"}]